from inst import Inst, asm, print_asm, print_ihex


program = [
    Inst.ADDI(9, 0, 0x9),
    #Inst.ADDI(10, 0, 0x5),
    #Inst.ADDI(11, 0, 0x7),
    #Inst.ADDI(12, 0, 0x9),
    Inst.LUI(26, 0x10000100),  # memory = 0x10000100
    #Inst.ADDI(6, 0, seg[1]), # 7seg に「0」を表示
    #Inst.SW(5, 6, 0x100), # memory[x5+0x100] = x
    Inst.ADDI(25, 0, 0x0),
    Inst.SB(26, 25, 0x0),
    Inst.ADDI(25, 0, 0x1),
    Inst.SB(26, 25, 0x1),
    Inst.ADDI(25, 0, 0x2),
    Inst.SB(26, 25, 0x2),
    Inst.ADDI(25, 0, 0x3),
    Inst.SB(26, 25, 0x3),
    Inst.ADDI(25, 0, 0x4),
    Inst.SB(26, 25, 0x4),
    Inst.ADDI(25, 0, 0x5),
    Inst.SB(26, 25, 0x5),
    Inst.ADDI(25, 0, 0x6),
    Inst.SB(26, 25, 0x6),
    Inst.ADDI(25, 0, 0x7),
    Inst.SB(26, 25, 0x7),
    Inst.ADDI(25, 0, 0x8),
    Inst.BGEU(8, 25, 0x68),
    Inst.ADDI(27, 0, dec[7]),  #A0~=27,A8~=28
    Inst.SUB(9, 9, 25),
    Inst.ADDI(28, 0, dec[0]),
    Inst.LB(25, 26, 0x1),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(28, 0, dec[1]),
    Inst.LB(25, 26, 0x2),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(28, 0, dec[2]),
    Inst.LB(25, 26, 0x3),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(28, 0, dec[3]),
    Inst.LB(25, 26, 0x4),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(28, 0, dec[4]),
    Inst.LB(25, 26, 0x5),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(28, 0, dec[5]),
    Inst.LB(25, 26, 0x6),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(28, 0, dec[6]),
    Inst.LB(25, 26, 0x7),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(28, 0, dec[7]),
    Inst.ADDI(25, 0, 0x8),
    Inst.BLTU(25, 9, 0x64),
    Inst.LB(25, 26, 0x0),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(27, 0, dec[0]),#8未満
    Inst.LB(25, 26, 0x1),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(27, 0, dec[1]),
    Inst.LB(25, 26, 0x2),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(27, 0, dec[2]),
    Inst.LB(25, 26, 0x3),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(27, 0, dec[3]),
    Inst.LB(25, 26, 0x4),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(27, 0, dec[4]),
    Inst.LB(25, 26, 0x5),
    Inst.BNE(27, 9, 0x8),
    Inst.ADDI(28, 0, dec[5]),
    Inst.LB(27, 26, 0x6),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(27, 0, dec[6]),
    Inst.LB(25, 26, 0x7),
    Inst.BNE(25, 9, 0x8),
    Inst.ADDI(27, 0, dec[7]),
    Inst.LUI(5, 0x04000000),
    Inst.SB(5, 27, 0x040),
    Inst.SB(5, 28, 0x041),
]

r = asm(init(5, 10))
print_asm(r)
print()
print_ihex(r)